<head>

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>
    Doubletime Cadetdash 2X
  </title>
</head>
<link rel="shortcut icon" href="index_files/ico.png" />
<link rel="stylesheet" href="index_files/styles.css" />
<link rel="stylesheet" href="index_files/foundation-icons.css" />
<!--SLIDER-->
<link rel="stylesheet" href="index_files/fontawesome-free-5.12.1-web/css/all.css">

<body style="text-align:center;">

  <div class="d-flex justify-content-center">
    <table style="height:100%;width:100%; position: absolute; top: 0; bottom: 0; left: 0; right: 0;">

      <tr>
        <th id="top" style="
      height: 10%;" class="tg-0lax"></th>
      </tr>
      <br>
      <tr>
        <td id="logo" style="height: 25%;" class="tg-0lax">
          <img src="index_files/logo.png" width="100%"><br>
          <img src="index_files/logo1.png" width="100%">

        </td>


      </tr>
      <tr>

        <td style="height: 25%;    align-content: center;
        " class="tg-0lax" width="100%">

          <div align="center" width="100%" class="rate" style="font-size: 10vw;">

            <span id="star1" onclick="setSpeed(1);player();" class="fa fa-star checked"></span>
            <span id="star2" onclick="setSpeed(2);player();" class="fa fa-star checked"></span>
            <span id="star3" onclick="setSpeed(3);player();" class="fa fa-star checked"></span>
            <span id="star4" onclick="setSpeed(4);player();" class="fa fa-star"></span>
            <span id="star5" onclick="setSpeed(5);player();" class="fa fa-star"></span>
            <br>


          </div>

          <br><br><br>
          <!--CENTER ALGN NOT WORKING-->
          <div align="center" style="font-size: 7vw;">
            <p align="center" style="width:100%;font-size:7vw;text-align:center;align-content: center;">
              <b>
                <div id="blink" class="blink">click to begin...</div><br>
                <span width="100%" id="txtSpeed">Speed : Admiral</span>
                <br>
                <small>sandaruadithya@gmail.com</small>
              </b>
            </p>
          </div>

        </td>
      </tr>

      <td id="bottom" style="position:fixedbottom;text-align:center;height: 10%;" class="tg-0lax">
        <img id="left" src="index_files/imgLeft.png" width="10%" height="inherit">
        <img id="right" src="index_files/imgRight.png" width="10%" height="auto">

      </td>
      </tr>
    </table>

  </div>

</body>
<script>
  /* let globalSpeed = 1;
  let globalBPM=175;
let minBPM=125,maxBPM=175;
  fitty('p');

  function playSound() {
    var audio = new Audio('');
    audio.autoplay = true;
    console.log("Playing sound...");
    var audio = new Audio('index_files/left.mp3');
audio.play();
  }*/
  function playSoundLeft() {
    //document.getElementById("imgMain").src = "index_files/up.jpg";

    var audio = document.createElement('audio');
    audio.style.display = "none";
    audio.src = "index_files/left.mp3";
    audio.autoplay = true;
    audio.onended = function () {
      audio.remove() //Remove when played.
    };
    document.body.appendChild(audio);
    //audio.play();
    //alert("play up called");
  }

  function playSoundRight() {
    //document.getElementById("imgMain").src = "index_files/up.jpg";

    var audio = document.createElement('audio');
    audio.style.display = "none";
    audio.src = "index_files/right.mp3";
    audio.autoplay = true;
    audio.onended = function () {
      audio.remove() //Remove when played.
    };
    document.body.appendChild(audio);
    //audio.play();
    //alert("play up called");
  }
  /*function playSound(url){
  var audio = document.createElement('audio');
  audio.style.display = "none";
  audio.src = url;
  audio.type="audio/mpeg";
  audio.autoplay = true;
  audio.onended = function(){
    audio.remove() //Remove when played.
  };
  document.body.appendChild(audio);
}*/
  //dleft();
</script>
<script>
  // screen.orientation.lock('portrait')



  function playLeft() {

    var audio = document.createElement('audio');
    audio.style.display = "none";
    audio.src = "index_files/left.mp3";
    audio.autoplay = true;
    audio.onended = function () {
      audio.remove() //Remove when played.
    };
    audio.play();
    document.body.appendChild(audio);
    //document.getElementById("left").src = null;
  }

  function showLeft() {
    document.getElementById("right").style.visibility = "hidden";
    document.getElementById("left").style.visibility = "visible";

  }
  //function right() {}

  function setSpeed(speed) {
    switch (speed) {

      case 1:
        //globalSpeed = 1;
        /////////////
        globalBPM = 100;
        resetStars();
        document.getElementById("star1").classList.add("checked");
        timer();
        document.getElementById("txtSpeed").innerHTML = "Speed : Lietenant lagging";
        break;
      case 2:
        //globalSpeed = 2;
        globalBPM = 125;

        resetStars();
        document.getElementById("star1").classList.add("checked");
        document.getElementById("star2").classList.add("checked");
        timer();
        document.getElementById("txtSpeed").innerHTML = "Speed : Captain leisurely";

        break;
      case 3:
        //globalSpeed = 3;
        globalBPM = 150;

        resetStars();
        document.getElementById("star1").classList.add("checked");
        document.getElementById("star2").classList.add("checked");
        document.getElementById("star3").classList.add("checked");
        timer();
        document.getElementById("txtSpeed").innerHTML = "Speed : Major mediocre";

        break;
      case 4:
        //globalSpeed = 4;
        globalBPM = 175;

        resetStars();
        document.getElementById("star1").classList.add("checked");
        document.getElementById("star2").classList.add("checked");
        document.getElementById("star3").classList.add("checked");
        document.getElementById("star4").classList.add("checked");
        timer();
        document.getElementById("txtSpeed").innerHTML = "Speed : Colonel turbo";

        break;
      case 5:
        //globalSpeed = 5;
        globalBPM = 200;

        resetStars();
        document.getElementById("star1").classList.add("checked");
        document.getElementById("star2").classList.add("checked");
        document.getElementById("star3").classList.add("checked");
        document.getElementById("star4").classList.add("checked");
        document.getElementById("star5").classList.add("checked");
        timer();
        document.getElementById("txtSpeed").innerHTML = "Speed : General nimble";

        break;
    }

  }

  //reset stars
  function resetStars() {
    document.getElementById("star1").classList.remove("checked");
    document.getElementById("star2").classList.remove("checked");
    document.getElementById("star3").classList.remove("checked");
    document.getElementById("star4").classList.remove("checked");
    document.getElementById("star5").classList.remove("checked");
    document.getElementById("blink").classList.remove("blink");
    document.getElementById("blink").classList.add("hidden");

    //document.getElementById("blink").style.visibility = 'hidden';
  }

  // playSoundLeft();
</script>
<script type="text/javascript">
  function player() {
    setTimeout(play(), 6000 / globalBPM);
  }
  //let bpm=60;
  /**/

  //let i=0;

  //play();
  //setInterval(play, 1000*60/bpm)

  /*function play(){
    //clearTimeout(myTimer);

    let playing =true;
    switch(i) {
      case 1:
        // code block
//bpm=10;
        console.log("left");
        playLeft();
        showLeft();
        break;
      case 2:
        // code block
        console.log("break");
        //playLeft();
        //showLeft();

        break;
        case 3:
        // code block
        console.log("break");
        playLeft();
        showLeft();

        break;
        case 4:
        i=0;
        break;
      default:
        // code block
    }
    i++;
    //clearTimeout(myTimer);

   //myTimer= setTimeout(play,(60000)/globalBPM);
  }*/
  let i = 0;
  let myT;

  function play() {
    switch (i) {
      case 0:
        // code block
        //bpm=10;
        console.log("left");
        playLeft();
        showLeft();
        break;
      case 1:
        // code block
        console.log("break");

        break;
      case 2:
        // code block
        playLeft();
        showLeft();
        break;
      case 3:
        // code block
        // playLeft();
        // showLeft();
        break;
      case 4:
        // code block
        playLeft();
        showLeft();
        break;
      case 5:
        // code block
        playSoundRight();
        // showLeft();
        break;
      case 6:
        // code block
        playLeft();
        showLeft();
        break;
      case 7:
        // code block
        console.log("break");

        break;
      case 8:
        // code block
        playLeft();
        showLeft();
        break;
      case 9:
        // code block
        playSoundRight();
        // showLeft();
        break;
      case 10:
        // code block
        playLeft();
        showLeft();
        break;
      case 11:
        // code block
        playSoundRight();
        // showLeft();
        break;
      case 12:
        // code block
        playLeft();
        showLeft();
        break;
      case 13:
        // code block
        playSoundRight();
        // showLeft();
        break;
      case 14:
        // code block
        playLeft();
        showLeft();
        break;
      case 15:
        // code block
        console.log("break");

        break;
      default:
        // code block
    }

    i++;
    if (i == 16) {
      i = 0;
    }
    //setTimeout(play,1000*60/bpm);
    //clearInterval(myT);
    //myT=setTimeout(play,/*1000*60/*/bpm);

  }

  function timer() {
    clearInterval(myT);
    myT = setInterval(play, 1000 * 60 / globalBPM);

  }
</script>
<style>

</style>